From 40c7d96496c1fdbc39f8bccc59d20f4bf9f293e8 Mon Sep 17 00:00:00 2001
From: Vincent Bernat <vincent@bernat.ch>
Date: Wed, 20 Aug 2025 21:05:50 +0200
Subject: [PATCH] fix: ignore case when checking Qwen in model ID for todos

---
 packages/opencode/src/tool/registry.ts | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

diff --git a/packages/opencode/src/tool/registry.ts b/packages/opencode/src/tool/registry.ts
index 9e8f9638c84f..c25b16ed3a44 100644
--- a/packages/opencode/src/tool/registry.ts
+++ b/packages/opencode/src/tool/registry.ts
@@ -86,7 +86,7 @@ export namespace ToolRegistry {
       result["webfetch"] = false
     }
 
-    if (modelID.includes("qwen")) {
+    if (modelID.toLowerCase().includes("qwen")) {
       result["todowrite"] = false
       result["todoread"] = false
     }
-- 
2.50.1

